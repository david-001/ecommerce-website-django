
{% extends "./admin-base.html" %}

{% load static %}


{% block content %}

  <style>
    img{
      width: 70px;
      height: 100px;
      align-self: center;
    }

  </style>

  <div class="row">
    <h5>PRODUCTS</h5>
    <div class="card card-body">        
      <table id="product-table" class="display">
        <thead>
          <tr>
            <th>Image</th>
            <th>Category</th>
            <th>Title</th>
            <th>Description</th>
            <th>Quantity</th>
            <th>Unit Price</th>         
          </tr>
        </thead>
        <tbody>
          {% for product in products %}
            <tr>
              <td><img alt="{{product.title}}" src="{{ product.image.url }}"></td>
              <td>{{product.category}}</td>
              <td>{{product.title}}</td>
              <td>{{product.description}}</td>
              <td>{{product.quantity}}</td>
              <td>{{product.price}}</td>              
            </tr>
          {% endfor %}
        </tbody>    
      </table>
    </div>
  </div>

  <div class="row">
    <h5>ORDERS</h5>
    <div class="card card-body">        
      <table id="order-table" class="display">
        <thead>
          <tr>
            <th>Customer</th>
            <th>Product</th>
            <th>Units Sold</th>
            <th>Unit Price</th>
            <th>Total</th>
            <th>Status</th>
            <th>Date Ordered</th>            
          </tr>
        </thead>
        <tbody>
          {% for orderitem in retailerorderitems %}
            <tr>
              <td>{{orderitem.user.username}}</td>
              <td>{{orderitem.product}}</td>
              <td>{{orderitem.quantity}}</td>
              <td>{{orderitem.price}}</td>
              <td>{{orderitem.total}}</td>
              <td>{{orderitem.status}}</td>
              <td>{{orderitem.order.date_ordered}}</td>
            </tr>
          {% endfor %}
        </tbody>    
      </table>
    </div>
  </div>


  <div class="row">
    <h5>Details</h5>
    <div class="card card-body">
      <table>        
        <tr>
          <td>Username: </td>
          <td>{{details.user.username}}</td>
        </tr>
        <tr>
          <td>Full name: </td>
          <td>{{details.full_name}}</td>
        </tr>
        <tr>
          <td>Open time: </td>
          <td>{{details.open_time}}</td>
        </tr>
        <tr>
          <td>Close time: </td>
          <td>{{details.close_time}}</td>
        </tr>
        <tr>
          <td>Address: </td>
          <td>{{details.address}}</td>
        </tr>
        <tr>
          <td>Account type: </td>
          <td>{{details.account_type}}</td>
        </tr>
        <tr>
          <td>Account number: </td>
          <td>{{details.account_number}}</td>
        </tr>
        <tr>
          <td>Bank: </td>
          <td>{{details.bank_name}}</td>
        </tr>
      </table>
    </div>
  </div>

  <script>
    $(document).ready(function () {
      $('#product-table').DataTable();
      $('#order-table').DataTable();      
    });
  </script>

{% endblock %}